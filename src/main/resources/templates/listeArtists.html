<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head"></head>
<body>
    <div th:replace="fragments/header :: navbar"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1>Liste des artistes</h1>
                <a href="http://localhost:5366/artists/new" class="btn btn-primary">Nouvel artiste</a>
                <table class="table table-hover table-striped">
                <!--Partie permetant de gérer le paramètre SortProperty
                    Fontionne pour la liste de tous les artists
                    Mais pas pour la liste des artist avec une recherche par nom
                    Je l'ai donc désactivé car ce n'était pas demandé-->
<!--                    <thead>-->
<!--                        <tr>-->
<!--                            <th scope="col">-->
<!--                                <div th:switch="${param.sortDirection.toString()}" th:if="${param.sortProperty.toString()} == 'name'">-->
<!--                                <span th:case="DESC">-->
<!--                                    Nom-->
<!--                                    <a th:href="@{/artists(page=${param.pageNumber}, size=${param.size}, sortDirection=ASC, sortProperty=name)}"><i class="fa fa-chevron-down">\/</i></a>-->
<!--                                </span>-->
<!--                                <span th:case="ASC">-->
<!--                                    Nom-->
<!--                                    <a th:href="@{/artists(page=${param.pageNumber}, size=${param.size}, sortDirection=DESC, sortProperty=name)}"><i class="fa fa-chevron-up">/\</i></a>-->
<!--                                </span>-->
<!--                                </div>-->
<!--                            </th>-->
<!--                        </tr>-->
<!--                    </thead>-->

<!--                    Affichage des différents artists -->
                    <tbody>
                        <tr th:each="artist : ${artists}">
                            <th scope="row" th:text="${artist.name}">Nom Artist</th>
                            <td><a th:href="'/artists/' + ${artist.artistId}">Détail</a></td>
                        </tr>
                    </tbody>
                </table>

<!--                Row Pagination-->

                <div class="row">
                    <div class="col-lg-6">
                        <p>
                            Affichage des artistes <span th:text="${start}">1</span> à <span th:text="${end}">10</span> sur un total de <span th:text="${artists.totalElements}">275</span>
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <ul class="pagination">
                            <li class="page-item disabled" th:if="${pageNumber} == 1" >
                                <a  class="page-link" href="#">
                                    «
                                </a>
                            </li>
                            <li class="page-item" th:if="${pageNumber} != 1" >
                                <a  class="page-link" th:href="@{/artists(page=${previousPage}, size=${param.size}, sortDirection=${param.sortDirection}, sortProperty=${param.sortProperty})}">
                                    «
                                </a>
                            </li>
                            <li><a href="#">Page <span th:text="${pageNumber}">1</span></a></li>
                            <li class="page-item" th:if="${pageNumber} != ${artists.totalPages} ">
                                <a class="page-link" th:href="@{/artists(page=${nextPage}, size=${param.size}, sortDirection=${param.sortDirection}, sortProperty=${param.sortProperty})}">
                                    »
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>